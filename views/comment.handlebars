<body>
  <div class="flex-column justify-space-around">

    <div class="row">
          <div class="col-md-6 form-container">
            <h2>Add Comment</h2>
            <h3>{{title}}</h3>
            <p>{{content}}</p>
        
            <form class="form comment-form">
              <div class="form-group">
                <label for="addComment">Comment:</label>
                <br>
                <input class="form-input" type="text" id="addComment" placeholder="Add your comment here"/>
              </div>
              <div class="form-group">
                <button class="btn btn-primary" type="submit" onclick="commentFormHandler(event)">Submit Comment</button>
              </div>

<script>
    var commentFormHandler = async (event) => {
  event.preventDefault();
  console.log("RUNNINGGGGGGGGGG");

  const comment = document.querySelector("#addComment").value.trim();
  console.log("(((((", comment);
  const id = window.location.toString().split("/")[
    window.location.toString().split("/").length - 1
  ];
  console.log("@@@@", id);
  if (comment) {
    const response = await fetch(`/api/post/${id}`, {
      method: "PUT",
      body: JSON.stringify({ comment }),
      headers: {
        "Content-Type": "application/json",
      },
    });

    if (response.ok) {
      document.location.replace("/");
    } else {
      alert("Failed to add comment");
    }
  }
};


</script>

<script src="/js/buttons.js"></script>
<script src="/js/plusNewPost.js"></script>
<script src="/js/editPost.js"></script>
<script src="/js/addComment.js"></script>